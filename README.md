# VS Code Settings

## Useful extensions
* vscode-icons: change icons 

## Useful User Settings

Hide certain types of files in file explorer
```json
    "files.exclude": {
        "**/*.pyc": true,
        "**/*.png": true,
        "**/*.jpg": true,
        "**/*.json": true
    }
```

## Markdown
VS Code support real-time preivew of markdown without any extension. Just click "open preview" (ctrl + shift + v) for a .md file and there it is.

## Python
1. install "Python" extension
2. For linting (auto checking gramma errors) to work
    * install pep8 (this is better than pylint) : "pip install pep8", enable it in "User Settings":
        * python.linting.pep8Enabled": true
        * python.linting.pylintEnabled": false
    * enable auto save (for linting as you type): open "User Settings", add
        * files.autoSave: afterDelay
        * files.autoSaveDelay: 1000
3. Functions in most packages will be automatically ready for code navigation if there is "__init__.py" file in the package's directory. But sometimes some packages are just .so files in the python package directory. In this case code navigation fails. One example is opencv (cv2 package) when it is installed through "apt-get" instead of "pip". Currently the only work-around is to open any python file that has cv2 imported in Pycharm, then navigate to the __init__.py of cv2 in Pycharm. This init file is actually generated by Pycharm itself from the so file. We can then
    * make a copy of this init file
    * create a folder "cv2" in python package directory (/usr/local/lib/python2.7/dist-packages)
    * past the init file to the created cv2 directory
    * (The __init__.py of OpenCV 2.4.8 is included here for future use)

## C/C++

Install "C/C++" extension to provide basic supports.

#### -- How to build application

1. To build application you need to generate a tasks.json file:
    * Open the command palette (ctrl + shift + p)
    * Select the Tasks: Configure Task Runner command and you will see a list of task runner templates.
    * Select Others to create a task which runs an external command.
2. Press "ctrl + shift + b" to build/run the task file
3. Example tasks.json files are included
    * using g++ to build
    * using cmake + make to build

#### -- Code completion/ navigation
To enable code completion and navigation, you need to generate a "c_cpp_properties.json file" by searching "C/Cpp: Edit Configurations" in command palette. Then add needed include paths in "includePath". A sample properties file is included.

Specifically, often in a project we need the function from another project that locates outside the current folder. In this case vscode cannot do navigation of any functions from the outside project. One way is to open the root folder in vscode so all projects that possibly interact are all opened. But this will make the parsing very slow. So a better way is just add the project needed to the include path in c_cpp_properties file then function navigation works fine:

```json
"includePath": [
                "/usr/include",
                "/usr/local/include",
                "/home/cjia/Documents/Projects/StereoRectify"
            ],
```

**Important**: Code navigation is not accurate at all. If there are multiple same definitions in the include paths then it will list all of them instead of choosing the correct one intelligently. Also sometimes it may just miss a definition. Also code navigation is not supported for local variables in a function. Hope this will be improved in future updates of "c/c++" extension

The completion/navigation experience can be improved a little by installing "C++ Intellisense" extension. Still not perfect, but auto-completion works better than nothing. Using this extension is not that simple:
* Install GNU Global version > 6.5
* run "gtags" in the project folder
* re-run "gtags" to update tag files when making changes to the project

#### -- Code formatting

Code can be formmatted by selecting the block of code and then right click --> choose format.

I suggest not to enable auto-formatting. But to enable auto-formatting, you can add following in the user settings:
* C_Cpp.clang_format_formatOnSave - to format when you save your file.
* editor.formatOnType - to format as you type (triggered on the ; character).

#### -- Others
* Use "ctrl +p" and then type "@" can list all functions in current file. It's easy to jump to a certain function.
* Install "Include Autocomplete" extension to enable auto-complete when you type #include

## Latex
Just install the latex extension: https://github.com/Microsoft/vscode-LaTeX This extension makes VSCode support latex language editing.

To compile the tex to pdf is also simple. Just create a task.json file to add all commands needed (latex, bibtex, dvips, ps2pdf, open ...)
An example tasks.json file is included. To run the tasks.json file, just type "ctrl + p", then type "task" + space, you will see the task name that you want to run.

## General
Sometimes it's good to hide some files and only leave source code files to make the file explorer looks cleaner. To do this, just change the "files.exclude" in setting.
